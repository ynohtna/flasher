import{S as se,i as ne,s as ae,e as le,b as K,B as ie,h as d,I as N,J as T,m as w,n as l,G as v,k as L,w as Y,a as P,l as I,x as F,c as R,p as ce,K as S,y as H,L as G,M as ee,N as J,O as ve,f as O,t as Q,z as U,P as he,H as de,o as me,A as ge,Q as _e}from"../../chunks/index-e7fb4a95.js";import{w as we}from"../../chunks/index-ab783ea0.js";function ke(a,e){const t=window.matchMedia(a),s=t.matches,n=we(s,r=>{n.matches=s,n.recalc=function(){r(t.matches),n.matches=t.matches};const c=_=>{console.info(a,_),n.recalc()};return t.addEventListener("change",c),()=>t.removeEventListener("change",c)});return n}const te=["#fff","#f00","#0f0","#00f","#f0f","#ff0","#0ff"],fe=2;class be{constructor(){this.el=null,this.interval=null,this.lastTap=null,this.accum=.1,this.held=!1,this.pw=.5,this.wave=0,this.colourIndex=0}numWaves(){return fe}accumulate(e){if(!this.interval)return!1;let t=this.accum+e/this.interval;return t>1&&(t-=1),this.accum=t,!0}update(){let e,t=this.wave%fe;const s=this.pw,n=this.accum;switch(t){case 0:e=n>=s?1-(n-s)/(1-s):n/s;break;case 1:e=this.accum<this.pw?1:0;break;case 2:e=n>=s?1-(n-s)/(1-s):n/s,e=e*e;break}this.el.style.opacity=e}tapped(e){this.lastTap&&(this.interval=e-this.lastTap),this.lastTap=e}colourChange(e){this.colourIndex+=e,this.el&&(this.el.style.backgroundColor=this.colour(),this.el.style.opacity=this.accum)}colour(){let e=this.colourIndex%te.length;return e<0&&(e+=te.length),te[e]}bind(e){e&&(e.length>=1?this.el=e[0]:this.el=e,this.el&&(this.el.style.backgroundColor=this.colour(),this.el.style.opacity=this.accum))}}function ue(a,e,t,s){let n=0,r=s?a.clientX-t.left:a.clientY-t.top;const c=s?a.clientY-t.top:a.clientX-t.left,p=(s?e.clientWidth:e.clientHeight)/2;r>p&&(n=2,r-=p);const k=r/p,u=c/(s?e.clientHeight:e.clientWidth);return k>1-u&&++n,n}function pe(a,e,t){for(const s in e){const n=e[s];n&&a.addEventListener(s,n,t)}}function Z(a,e,t){for(const s in e){const n=e[s];n&&a.removeEventListener(s,n,t)}}function Ee(a,{callback:e,clamped:t}){let s=t!==void 0?!!t:!0,n=e,r,c,_;function p(o,m,h,b){const A=o.clientWidth,C=o.clientHeight;m=m/(A-1),h=h/(C-1),s&&(m=m<0?0:m>1?1:m,h=h<0?0:h>1?1:h),n&&(m!==r||h!==c||b!==_)&&(n(m,h,b),r=m,c=h,_=b)}const k={pointermove(o){o.preventDefault(),o.stopPropagation(),p(o.target,o.offsetX,o.offsetY,"move")},pointerup(o){o.preventDefault(),o.stopPropagation(),Z(a,k,!0),p(o.target,o.offsetX,o.offsetY,"up")},pointercancel(o){o.stopPropagation(),Z(a,k,!0),a.releasePointerCapture(o.pointerId),p(o.target,o.offsetX,o.offsetY,"cancel")}},u={pointerdown(o){o.preventDefault(),o.stopPropagation(),a.setPointerCapture(o.pointerId),p(o.target,o.offsetX,o.offsetY,"down"),pe(a,k,!0)}};return pe(a,u,!0),{update({callback:o,clamped:m}){n=o,s=m!==void 0?!!m:!0},destroy(){Z(a,k,!0),Z(a,u,!0)}}}function Le(a){let e,t,s;return{c(){e=N("svg"),t=N("path"),this.h()},l(n){e=T(n,"svg",{viewBox:!0,preserveAspectRatio:!0});var r=w(e);t=T(r,"path",{fill:!0,"vector-effect":!0,d:!0}),w(t).forEach(d),r.forEach(d),this.h()},h(){l(t,"fill","none"),l(t,"vector-effect","non-scaling-stroke"),l(t,"d",s="M0 10L0 0L"+a[1]*10+" 0L"+a[1]*10+" 10L10 10"),l(e,"viewBox","-2 -2 14 14"),l(e,"preserveAspectRatio","none")},m(n,r){K(n,e,r),v(e,t)},p(n,r){r&2&&s!==(s="M0 10L0 0L"+n[1]*10+" 0L"+n[1]*10+" 10L10 10")&&l(t,"d",s)},d(n){n&&d(e)}}}function Ie(a){let e,t,s;return{c(){e=N("svg"),t=N("path"),this.h()},l(n){e=T(n,"svg",{viewBox:!0,preserveAspectRatio:!0});var r=w(e);t=T(r,"path",{fill:!0,"vector-effect":!0,d:!0}),w(t).forEach(d),r.forEach(d),this.h()},h(){l(t,"fill","none"),l(t,"vector-effect","non-scaling-stroke"),l(t,"d",s="M0 10L"+a[1]*10+" 0L10 10"),l(e,"viewBox","-2 -2 14 14"),l(e,"preserveAspectRatio","none")},m(n,r){K(n,e,r),v(e,t)},p(n,r){r&2&&s!==(s="M0 10L"+n[1]*10+" 0L10 10")&&l(t,"d",s)},d(n){n&&d(e)}}}function $e(a){let e;function t(r,c){if(r[0]===0)return Ie;if(r[0]===1)return Le}let s=t(a),n=s&&s(a);return{c(){n&&n.c(),e=le()},l(r){n&&n.l(r),e=le()},m(r,c){n&&n.m(r,c),K(r,e,c)},p(r,[c]){s===(s=t(r))&&n?n.p(r,c):(n&&n.d(1),n=s&&s(r),n&&(n.c(),n.m(e.parentNode,e)))},i:ie,o:ie,d(r){n&&n.d(r),r&&d(e)}}}function Ae(a,e,t){let{wave:s}=e,{pw:n}=e;return a.$$set=r=>{"wave"in r&&t(0,s=r.wave),"pw"in r&&t(1,n=r.pw)},[s,n]}class Ce extends se{constructor(e){super(),ne(this,e,Ae,$e,ae,{wave:0,pw:1})}}function De(a){let e,t,s,n,r,c,_,p,k,u,o,m,h,b,A,C,V;return s=new Ce({props:{wave:a[1],pw:a[2]}}),{c(){e=L("section"),t=L("div"),Y(s.$$.fragment),n=P(),r=L("div"),c=L("div"),_=P(),p=L("div"),k=N("svg"),u=N("path"),o=P(),m=L("div"),h=N("svg"),b=N("path"),this.h()},l(i){e=I(i,"SECTION",{class:!0});var f=w(e);t=I(f,"DIV",{class:!0});var $=w(t);F(s.$$.fragment,$),$.forEach(d),n=R(f),r=I(f,"DIV",{class:!0});var D=w(r);c=I(D,"DIV",{class:!0}),w(c).forEach(d),D.forEach(d),_=R(f),p=I(f,"DIV",{class:!0});var M=w(p);k=T(M,"svg",{viewBox:!0,preserveAspectRatio:!0});var y=w(k);u=T(y,"path",{fill:!0,"vector-effect":!0,d:!0}),w(u).forEach(d),y.forEach(d),M.forEach(d),o=R(f),m=I(f,"DIV",{class:!0});var W=w(m);h=T(W,"svg",{viewBox:!0,preserveAspectRatio:!0});var X=w(h);b=T(X,"path",{fill:!0,"vector-effect":!0,d:!0}),w(b).forEach(d),X.forEach(d),W.forEach(d),f.forEach(d),this.h()},h(){l(t,"class","button svelte-1rkj1xv"),l(c,"class","thumb svelte-1rkj1xv"),l(r,"class","fader svelte-1rkj1xv"),ce(r,"--th",`${a[2]*100}%`),l(u,"fill","none"),l(u,"vector-effect","non-scaling-stroke"),l(u,"d","M8 0L2 5L8 10"),l(k,"viewBox","-4 -4 18 18"),l(k,"preserveAspectRatio","none"),l(p,"class","button svelte-1rkj1xv"),l(b,"fill","none"),l(b,"vector-effect","non-scaling-stroke"),l(b,"d","M2 0L8 5L2 10"),l(h,"viewBox","-4 -4 18 18"),l(h,"preserveAspectRatio","none"),l(m,"class","button svelte-1rkj1xv"),l(e,"class","svelte-1rkj1xv"),S(e,"landscape",a[0]),S(e,"portrait",!a[0])},m(i,f){K(i,e,f),v(e,t),H(s,t,null),v(e,n),v(e,r),v(r,c),v(e,_),v(e,p),v(p,k),v(k,u),v(e,o),v(e,m),v(m,h),v(h,b),A=!0,C||(V=[G(t,"pointerdown",ee(J(a[3]))),ve(Ee.call(null,r,a[6])),G(p,"pointerdown",ee(J(a[4]))),G(m,"pointerdown",ee(J(a[5])))],C=!0)},p(i,[f]){const $={};f&2&&($.wave=i[1]),f&4&&($.pw=i[2]),s.$set($),f&4&&ce(r,"--th",`${i[2]*100}%`),(!A||f&1)&&S(e,"landscape",i[0]),(!A||f&1)&&S(e,"portrait",!i[0])},i(i){A||(O(s.$$.fragment,i),A=!0)},o(i){Q(s.$$.fragment,i),A=!1},d(i){i&&d(e),U(s),C=!1,he(V)}}}function qe(a,e,t){let{flasher:s}=e,{landscape:n}=e,r=s.wave;function c(){t(1,r=t(7,s.wave=(s.wave+1)%s.numWaves(),s))}function _(){s.colourChange(-1)}function p(){s.colourChange(1)}let k=s.pw;const u={callback(o){t(2,k=t(7,s.pw=o,s))},clamped:!0};return a.$$set=o=>{"flasher"in o&&t(7,s=o.flasher),"landscape"in o&&t(0,n=o.landscape)},[n,r,k,c,_,p,u,s]}class x extends se{constructor(e){super(),ne(this,e,qe,De,ae,{flasher:7,landscape:0})}}function Be(a){let e,t,s,n,r,c,_,p,k,u,o,m,h,b,A,C,V,i,f,$,D,M,y,W,X;return p=new x({props:{flasher:a[0][0],landscape:a[2]}}),o=new x({props:{flasher:a[0][1],landscape:a[2]}}),f=new x({props:{flasher:a[0][2],landscape:a[2]}}),M=new x({props:{flasher:a[0][3],landscape:a[2]}}),{c(){e=L("main"),t=L("div"),s=L("div"),n=P(),r=L("div"),c=P(),_=L("span"),Y(p.$$.fragment),k=P(),u=L("span"),Y(o.$$.fragment),m=P(),h=L("div"),b=L("div"),A=P(),C=L("div"),V=P(),i=L("span"),Y(f.$$.fragment),$=P(),D=L("span"),Y(M.$$.fragment),this.h()},l(g){e=I(g,"MAIN",{class:!0});var E=w(e);t=I(E,"DIV",{class:!0});var q=w(t);s=I(q,"DIV",{class:!0}),w(s).forEach(d),n=R(q),r=I(q,"DIV",{class:!0}),w(r).forEach(d),c=R(q),_=I(q,"SPAN",{class:!0});var j=w(_);F(p.$$.fragment,j),j.forEach(d),k=R(q),u=I(q,"SPAN",{class:!0});var z=w(u);F(o.$$.fragment,z),z.forEach(d),q.forEach(d),m=R(E),h=I(E,"DIV",{class:!0});var B=w(h);b=I(B,"DIV",{class:!0}),w(b).forEach(d),A=R(B),C=I(B,"DIV",{class:!0}),w(C).forEach(d),V=R(B),i=I(B,"SPAN",{class:!0});var re=w(i);F(f.$$.fragment,re),re.forEach(d),$=R(B),D=I(B,"SPAN",{class:!0});var oe=w(D);F(M.$$.fragment,oe),oe.forEach(d),B.forEach(d),E.forEach(d),this.h()},h(){l(s,"class","a back svelte-ibtpqk"),l(r,"class","b lower svelte-ibtpqk"),l(_,"class","controls up svelte-ibtpqk"),l(u,"class","controls low svelte-ibtpqk"),l(t,"class","upper svelte-ibtpqk"),l(b,"class","c back svelte-ibtpqk"),l(C,"class","d lower svelte-ibtpqk"),l(i,"class","controls up svelte-ibtpqk"),l(D,"class","controls low svelte-ibtpqk"),l(h,"class","upper svelte-ibtpqk"),l(e,"class","svelte-ibtpqk"),S(e,"landscape",a[2]),S(e,"portrait",!a[2])},m(g,E){K(g,e,E),v(e,t),v(t,s),v(t,n),v(t,r),v(t,c),v(t,_),H(p,_,null),v(t,k),v(t,u),H(o,u,null),v(e,m),v(e,h),v(h,b),v(h,A),v(h,C),v(h,V),v(h,i),H(f,i,null),v(h,$),v(h,D),H(M,D,null),a[7](e),y=!0,W||(X=[G(e,"pointerdown",J(a[4])),G(e,"pointerup",J(a[5]))],W=!0)},p(g,[E]){const q={};E&1&&(q.flasher=g[0][0]),E&4&&(q.landscape=g[2]),p.$set(q);const j={};E&1&&(j.flasher=g[0][1]),E&4&&(j.landscape=g[2]),o.$set(j);const z={};E&1&&(z.flasher=g[0][2]),E&4&&(z.landscape=g[2]),f.$set(z);const B={};E&1&&(B.flasher=g[0][3]),E&4&&(B.landscape=g[2]),M.$set(B),(!y||E&4)&&S(e,"landscape",g[2]),(!y||E&4)&&S(e,"portrait",!g[2])},i(g){y||(O(p.$$.fragment,g),O(o.$$.fragment,g),O(f.$$.fragment,g),O(M.$$.fragment,g),y=!0)},o(g){Q(p.$$.fragment,g),Q(o.$$.fragment,g),Q(f.$$.fragment,g),Q(M.$$.fragment,g),y=!1},d(g){g&&d(e),U(p),U(o),U(f),U(M),a[7](null),W=!1,he(X)}}}const Me=200;function Pe(a,e,t){let s,n;const r=ke("(orientation: landscape)");de(a,r,i=>t(6,n=i));const c=Array.from({length:4},()=>new be);let _,p;function k(i){if(_=null,p){const f=i-p;let $=0;for(const D of c)D.held?++$:D.accumulate(f)&&D.update();if($>=4){p=null;return}}p=i,_=window.requestAnimationFrame(k)}let u,o;function m(i){const f=performance.now();!o&&u&&(o=u.getBoundingClientRect());const $=ue(i,u,o,s);t(0,c[$].held=!0,c),c[$].tapped(f)}function h(i){!o&&u&&(o=u.getBoundingClientRect());const f=ue(i,u,o,s);t(0,c[f].held=!1,c),_||(_=window.requestAnimationFrame(k))}let b;function A(){r.recalc(),o=u.getBoundingClientRect(),b=null}function C(){b||(b=setTimeout(A,Me))}me(async function(){window.addEventListener("resize",C),await ge();const i="abcd";for(const f in i)c[f].bind(u.getElementsByClassName(i[f]));return function(){window.removeEventListener("resize",C),_&&window.cancelAnimationFrame(_),b&&clearTimeout(b)}});function V(i){_e[i?"unshift":"push"](()=>{u=i,t(1,u)})}return a.$$.update=()=>{a.$$.dirty&64&&t(2,s=n)},[c,u,s,r,m,h,n,V]}class Ve extends se{constructor(e){super(),ne(this,e,Pe,Be,ae,{})}}export{Ve as default};
